[debug] [2019-04-09T23:50:17.841Z] ----------------------------------------------------------------------
[debug] [2019-04-09T23:50:17.845Z] Command:       /home/harun/.nvm/versions/node/v10.5.0/bin/node /home/harun/.nvm/versions/node/v10.5.0/bin/firebase deploy --only functions
[debug] [2019-04-09T23:50:17.845Z] CLI Version:   6.6.0
[debug] [2019-04-09T23:50:17.845Z] Platform:      linux
[debug] [2019-04-09T23:50:17.845Z] Node Version:  v10.5.0
[debug] [2019-04-09T23:50:17.898Z] Time:          Wed Apr 10 2019 02:50:17 GMT+0300 (East Africa Time)
[debug] [2019-04-09T23:50:17.898Z] ----------------------------------------------------------------------
[debug] 
[debug] [2019-04-09T23:50:17.975Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2019-04-09T23:50:17.976Z] > authorizing via signed-in user
[debug] [2019-04-09T23:50:17.976Z] [iam] checking project androidthings-310cf for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2019-04-09T23:50:17.979Z] > refreshing access token with scopes: ["email","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","openid"]
[debug] [2019-04-09T23:50:17.980Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2019-04-09T23:50:19.459Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:50:19.569Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/androidthings-310cf:testIamPermissions  

[debug] [2019-04-09T23:50:22.454Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'androidthings-310cf'...
[info] 
[info] i  deploying functions
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script.
[debug] [2019-04-09T23:50:46.310Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase serve --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "dependencies": {
    "firebase-admin": "~6.0.0",
    "firebase-functions": "^2.0.3"
  },
  "devDependencies": {
    "eslint": "^4.12.0",
    "eslint-plugin-promise": "^3.6.0"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2019-04-09T23:50:46.311Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/cloudfunctions.googleapis.com/projectSettings/androidthings-310cf?view=CONSUMER_VIEW  
 
[debug] [2019-04-09T23:50:46.313Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/runtimeconfig.googleapis.com/projectSettings/androidthings-310cf?view=CONSUMER_VIEW  
 
[debug] [2019-04-09T23:50:49.544Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:50:49.619Z] <<< HTTP RESPONSE 200
[info] ✔  functions: all necessary APIs are enabled
[debug] [2019-04-09T23:50:49.621Z] >>> HTTP REQUEST GET https://cloudresourcemanager.googleapis.com/v1/projects/androidthings-310cf  
 
[debug] [2019-04-09T23:50:52.456Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:50:52.457Z] >>> HTTP REQUEST GET https://mobilesdk-pa.googleapis.com/v1/projects/462433982848:getServerAppConfig  
 
[debug] [2019-04-09T23:50:55.443Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2019-04-09T23:50:55.447Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/androidthings-310cf/configs  
 
[debug] [2019-04-09T23:50:58.316Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (53.89 KB) for uploading
[debug] [2019-04-09T23:50:58.886Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/androidthings-310cf/locations/us-central1/functions:generateUploadUrl  
 
[debug] [2019-04-09T23:51:01.484Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:01.486Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-3f0d6292-48e5-46f2-a34c-d12f28d4faf5/008a1e08-ad27-4999-940a-52ffbbb2e003.zip?GoogleAccessId=service-462433982848@gcf-admin-robot.iam.gserviceaccount.com&Expires=1554855660&Signature=soLqodOSMF9tsOSyZmTfppfFCXYuIrTNl7NhKUrStqa3R%2BNW1g3QqfN0zZLm4e5FqC%2F6Oq795gyer5A0SJ2toihMMSAfc9qsF2wkhnMEKEwvd4IRXHNXzHIdyKqIirPRmPEyDXFh9JXem%2FrZTgNaxp7nAR%2BXoTN27XUr3WwRb%2BD95XJ94E406Z4JJKqaDI%2Br4xf7pNEDKXLjtWGfqNPgu0NiS%2BodDPgXFNLnXNbyWvxU4wj%2FdRWaVHipEpa97yVBCPLADCsJddCEgOcaZHNhEd6S5AdVzbxPYxE2ih%2FjPooOjXdgLW8hpJa%2FGO4ArkIMKbcN7solLFTyf2N1UfoZQA%3D%3D  

[debug] [2019-04-09T23:51:03.599Z] <<< HTTP RESPONSE 200
[info] ✔  functions: functions folder uploaded successfully
[debug] [2019-04-09T23:51:03.601Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/androidthings-310cf/locations/-/functions  
 
[debug] [2019-04-09T23:51:09.901Z] <<< HTTP RESPONSE 200
[info] i  functions: updating Node.js 6 function sendInternetNotification(us-central1)...
[debug] [2019-04-09T23:51:09.906Z] Trigger is:  {"eventTrigger":{"resource":"projects/_/instances/androidthings-310cf/refs/connected","eventType":"providers/google.firebase.database/eventTypes/ref.write","service":"firebaseio.com"}}
[info] i  functions: updating Node.js 6 function motionDetectedNotification(us-central1)...
[debug] [2019-04-09T23:51:09.907Z] Trigger is:  {"eventTrigger":{"resource":"projects/androidthings-310cf/databases/(default)/documents/motions/{motionId}","eventType":"providers/cloud.firestore/eventTypes/document.create","service":"firestore.googleapis.com"}}
[info] i  functions: updating Node.js 6 function doorBellRinging(us-central1)...
[debug] [2019-04-09T23:51:09.908Z] Trigger is:  {"eventTrigger":{"resource":"projects/androidthings-310cf/databases/(default)/documents/doorbell/{doorBellId}","eventType":"providers/cloud.firestore/eventTypes/document.create","service":"firestore.googleapis.com"}}
[debug] [2019-04-09T23:51:09.913Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/androidthings-310cf/locations/us-central1/functions/sendInternetNotification {"updateMask":"sourceUploadUrl,name,labels,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 

[debug] [2019-04-09T23:51:09.916Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/androidthings-310cf/locations/us-central1/functions/motionDetectedNotification {"updateMask":"sourceUploadUrl,name,labels,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 

[debug] [2019-04-09T23:51:09.917Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/androidthings-310cf/locations/us-central1/functions/doorBellRinging {"updateMask":"sourceUploadUrl,name,labels,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 

[debug] [2019-04-09T23:51:10.669Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:10.671Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:10.674Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:10.677Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9zZW5kSW50ZXJuZXROb3RpZmljYXRpb24vaWRVc1BQTHZtcDg  
 
[debug] [2019-04-09T23:51:10.678Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9tb3Rpb25EZXRlY3RlZE5vdGlmaWNhdGlvbi9HeEpPaWMwMlRCUQ  
 
[debug] [2019-04-09T23:51:10.679Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9kb29yQmVsbFJpbmdpbmcvd2g4OEpRbzk4cnM  
 
[debug] [2019-04-09T23:51:11.148Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:11.151Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:11.156Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:13.154Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9kb29yQmVsbFJpbmdpbmcvd2g4OEpRbzk4cnM  
 
[debug] [2019-04-09T23:51:13.155Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9zZW5kSW50ZXJuZXROb3RpZmljYXRpb24vaWRVc1BQTHZtcDg  
 
[debug] [2019-04-09T23:51:13.160Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9tb3Rpb25EZXRlY3RlZE5vdGlmaWNhdGlvbi9HeEpPaWMwMlRCUQ  
 
[debug] [2019-04-09T23:51:14.453Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:14.457Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:14.459Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:16.456Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9kb29yQmVsbFJpbmdpbmcvd2g4OEpRbzk4cnM  
 
[debug] [2019-04-09T23:51:16.460Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9tb3Rpb25EZXRlY3RlZE5vdGlmaWNhdGlvbi9HeEpPaWMwMlRCUQ  
 
[debug] [2019-04-09T23:51:16.461Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9zZW5kSW50ZXJuZXROb3RpZmljYXRpb24vaWRVc1BQTHZtcDg  
 
[debug] [2019-04-09T23:51:17.068Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:17.070Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:17.071Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:19.069Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9kb29yQmVsbFJpbmdpbmcvd2g4OEpRbzk4cnM  
 
[debug] [2019-04-09T23:51:19.073Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9tb3Rpb25EZXRlY3RlZE5vdGlmaWNhdGlvbi9HeEpPaWMwMlRCUQ  
 
[debug] [2019-04-09T23:51:19.074Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9zZW5kSW50ZXJuZXROb3RpZmljYXRpb24vaWRVc1BQTHZtcDg  
 
[debug] [2019-04-09T23:51:20.457Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:20.461Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:20.462Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:22.462Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9tb3Rpb25EZXRlY3RlZE5vdGlmaWNhdGlvbi9HeEpPaWMwMlRCUQ  
 
[debug] [2019-04-09T23:51:22.468Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9kb29yQmVsbFJpbmdpbmcvd2g4OEpRbzk4cnM  
 
[debug] [2019-04-09T23:51:22.473Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9zZW5kSW50ZXJuZXROb3RpZmljYXRpb24vaWRVc1BQTHZtcDg  
 
[debug] [2019-04-09T23:51:24.469Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:24.471Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:24.473Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:26.474Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9tb3Rpb25EZXRlY3RlZE5vdGlmaWNhdGlvbi9HeEpPaWMwMlRCUQ  
 
[debug] [2019-04-09T23:51:26.474Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9kb29yQmVsbFJpbmdpbmcvd2g4OEpRbzk4cnM  
 
[debug] [2019-04-09T23:51:26.475Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9zZW5kSW50ZXJuZXROb3RpZmljYXRpb24vaWRVc1BQTHZtcDg  
 
[debug] [2019-04-09T23:51:27.453Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:27.455Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:27.456Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:29.456Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9kb29yQmVsbFJpbmdpbmcvd2g4OEpRbzk4cnM  
 
[debug] [2019-04-09T23:51:29.457Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9tb3Rpb25EZXRlY3RlZE5vdGlmaWNhdGlvbi9HeEpPaWMwMlRCUQ  
 
[debug] [2019-04-09T23:51:29.460Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9zZW5kSW50ZXJuZXROb3RpZmljYXRpb24vaWRVc1BQTHZtcDg  
 
[debug] [2019-04-09T23:51:31.456Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:31.456Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:31.459Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:33.458Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9kb29yQmVsbFJpbmdpbmcvd2g4OEpRbzk4cnM  
 
[debug] [2019-04-09T23:51:33.459Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9zZW5kSW50ZXJuZXROb3RpZmljYXRpb24vaWRVc1BQTHZtcDg  
 
[debug] [2019-04-09T23:51:33.462Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9tb3Rpb25EZXRlY3RlZE5vdGlmaWNhdGlvbi9HeEpPaWMwMlRCUQ  
 
[debug] [2019-04-09T23:51:34.608Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:34.610Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:34.612Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:36.611Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9zZW5kSW50ZXJuZXROb3RpZmljYXRpb24vaWRVc1BQTHZtcDg  
 
[debug] [2019-04-09T23:51:36.611Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9kb29yQmVsbFJpbmdpbmcvd2g4OEpRbzk4cnM  
 
[debug] [2019-04-09T23:51:36.616Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9tb3Rpb25EZXRlY3RlZE5vdGlmaWNhdGlvbi9HeEpPaWMwMlRCUQ  
 
[debug] [2019-04-09T23:51:38.467Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:38.468Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:38.469Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:40.470Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9zZW5kSW50ZXJuZXROb3RpZmljYXRpb24vaWRVc1BQTHZtcDg  
 
[debug] [2019-04-09T23:51:40.471Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9kb29yQmVsbFJpbmdpbmcvd2g4OEpRbzk4cnM  
 
[debug] [2019-04-09T23:51:40.471Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9tb3Rpb25EZXRlY3RlZE5vdGlmaWNhdGlvbi9HeEpPaWMwMlRCUQ  
 
[debug] [2019-04-09T23:51:41.477Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:41.478Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:41.480Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:43.480Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9kb29yQmVsbFJpbmdpbmcvd2g4OEpRbzk4cnM  
 
[debug] [2019-04-09T23:51:43.481Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9zZW5kSW50ZXJuZXROb3RpZmljYXRpb24vaWRVc1BQTHZtcDg  
 
[debug] [2019-04-09T23:51:43.482Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW5kcm9pZHRoaW5ncy0zMTBjZi91cy1jZW50cmFsMS9tb3Rpb25EZXRlY3RlZE5vdGlmaWNhdGlvbi9HeEpPaWMwMlRCUQ  
 
[debug] [2019-04-09T23:51:44.477Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:44.478Z] <<< HTTP RESPONSE 200
[debug] [2019-04-09T23:51:44.480Z] <<< HTTP RESPONSE 200
